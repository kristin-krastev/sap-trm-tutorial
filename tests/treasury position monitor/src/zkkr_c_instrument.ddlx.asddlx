@Metadata.layer: #CORE
@UI: {
  headerInfo: {
    typeName: 'Instrument',
    typeNamePlural: 'Financial Instruments',
    title: {
      type: #STANDARD,
      value: 'InstrumentDescription'
    },
    description: {
      type: #STANDARD,
      value: 'instrument_id'
    }
  },
  presentationVariant: [{
    sortOrder: [{
      by: 'instrument_id',
      direction: #ASC
    }],
    visualizations: [{
      type: #AS_LINEITEM
    }]
  }]
}
annotate view ZKKR_C_INSTRUMENT with
{
  /* Selection Fields */
  @UI.selectionField: [{ position: 10 }]
  instrument_id;

  @UI.selectionField: [{ position: 20 }]
  InstrumentType;

  @UI.selectionField: [{ position: 30 }]
  Currency;

  @UI.selectionField: [{ position: 40 }]
  Issuer;

  /* Facets */
  @UI.facet: [
    {
      id: 'InstrumentHeaderFacet',
      purpose: #HEADER,
      type: #DATAPOINT_REFERENCE,
      targetQualifier: 'NominalAmount',
      position: 10
    },
    {
      id: 'InstrumentHeaderRate',
      purpose: #HEADER,
      type: #DATAPOINT_REFERENCE,
      targetQualifier: 'InterestRate',
      position: 20
    },
    {
      id: 'GeneralInfo',
      purpose: #STANDARD,
      type: #FIELDGROUP_REFERENCE,
      label: 'General Information',
      targetQualifier: 'GeneralInfo',
      position: 10
    },
    {
      id: 'FinancialInfo',
      purpose: #STANDARD,
      type: #FIELDGROUP_REFERENCE,
      label: 'Financial Information',
      targetQualifier: 'FinancialInfo',
      position: 20
    },
    {
      id: 'ValidityInfo',
      purpose: #STANDARD,
      type: #FIELDGROUP_REFERENCE,
      label: 'Validity Period',
      targetQualifier: 'ValidityInfo',
      position: 30
    },
    {
      id: 'AdminDetails',
      purpose: #STANDARD,
      type: #FIELDGROUP_REFERENCE,
      label: 'Administrative Data',
      targetQualifier: 'AdminInfo',
      position: 40
    }
  ]

  /* Line Item */
  @UI.lineItem: [{
    position: 10,
    importance: #HIGH,
    label: 'Instrument ID'
  }]
  @UI.fieldGroup: [{
    qualifier: 'GeneralInfo',
    position: 10
  }]
  @UI.identification: [{ position: 10 }]
  instrument_id;

  @UI.lineItem: [{
    position: 20,
    importance: #HIGH,
    label: 'Type'
  }]
  @UI.fieldGroup: [{
    qualifier: 'GeneralInfo',
    position: 20
  }]
  @UI.identification: [{ position: 20 }]
  InstrumentType;

  @UI.lineItem: [{
    position: 30,
    importance: #HIGH,
    label: 'Description'
  }]
  @UI.fieldGroup: [{
    qualifier: 'GeneralInfo',
    position: 30
  }]
  @UI.identification: [{ position: 30 }]
  InstrumentDescription;

  @UI.lineItem: [{
    position: 40,
    importance: #HIGH,
    label: 'Nominal Amount'
  }]
  @UI.dataPoint: {
    qualifier: 'NominalAmount',
    title: 'Nominal Amount'
  }
  @UI.fieldGroup: [{
    qualifier: 'FinancialInfo',
    position: 10
  }]
  @UI.identification: [{ position: 40 }]
  NominalAmount;

  @UI.lineItem: [{
    position: 50,
    importance: #MEDIUM,
    label: 'Currency'
  }]
  @UI.fieldGroup: [{
    qualifier: 'FinancialInfo',
    position: 20
  }]
  @UI.identification: [{ position: 50 }]
  Currency;

  @UI.lineItem: [{
    position: 60,
    importance: #HIGH,
    label: 'Interest Rate'
  }]
  @UI.dataPoint: {
    qualifier: 'InterestRate',
    title: 'Interest Rate (%)'
  }
  @UI.fieldGroup: [{
    qualifier: 'FinancialInfo',
    position: 30
  }]
  @UI.identification: [{ position: 60 }]
  InterestRate;

  @UI.lineItem: [{
    position: 70,
    importance: #MEDIUM,
    label: 'Start Date'
  }]
  @UI.fieldGroup: [{
    qualifier: 'ValidityInfo',
    position: 10
  }]
  @UI.identification: [{ position: 70 }]
  StartDate;

  @UI.lineItem: [{
    position: 80,
    importance: #MEDIUM,
    label: 'End Date'
  }]
  @UI.fieldGroup: [{
    qualifier: 'ValidityInfo',
    position: 20
  }]
  @UI.identification: [{ position: 80 }]
  EndDate;

  @UI.lineItem: [{
    position: 90,
    importance: #MEDIUM,
    label: 'Issuer'
  }]
  @UI.fieldGroup: [{
    qualifier: 'GeneralInfo',
    position: 40
  }]
  @UI.identification: [{ position: 90 }]
  Issuer;

  /* Administrative fields */
  @UI.fieldGroup: [{
    qualifier: 'AdminInfo',
    position: 10,
    label: 'Created By'
  }]
  CreatedBy;

  @UI.fieldGroup: [{
    qualifier: 'AdminInfo',
    position: 20,
    label: 'Created At'
  }]
  CreatedAt;

  @UI.fieldGroup: [{
    qualifier: 'AdminInfo',
    position: 30,
    label: 'Changed By'
  }]
  ChangedBy;

  @UI.fieldGroup: [{
    qualifier: 'AdminInfo',
    position: 40,
    label: 'Changed At'
  }]
  ChangedAt;
}
